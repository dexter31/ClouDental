<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/screens/frontend/template.xhtml">
	<ui:define name="header">
    	Activity Management 
    	<br />
		<h:messages />
	</ui:define>


	<ui:define name="content">
		<!-- ********** start ********** -->
		<h:form>
			<p:panel header="Activity">
				<h:panelGrid columns="2">
					
					<h:outputText value="Patient: " />
					<p:autoComplete value="#{activityManagementBean.selectedPatient}" id="patient" 
									completeMethod="#{patientManagementBean.completePatient}" var="p" 
									itemLabel="#{p.name} #{p.surname}"	itemValue="#{p}"	
									converter="patientConverter" forceSelection="true">
						<p:column>
							<h:outputText value="#{p.id}"/>
						</p:column>

						<p:column>  
	                    		#{p.name} - #{p.surname}  
	                	</p:column>
					</p:autoComplete>
					
					
					<h:outputText value="PricelistItem: " />  
			        <p:selectOneMenu value="#{activityManagementBean.selectedPricelistItem}" effect="fade" converter="pricelistItemConverter" var="p">  
			            <f:selectItem itemLabel="Select One" itemValue="" />  
			            <f:selectItems value="#{pricelistItemManagementBean.pricelist}" var="pricelistItem" itemLabel="#{pricelistItem.title}" itemValue="#{pricelistItem}"/>
			            
			            <p:column>
							#{p.title}
						</p:column>  
			        </p:selectOneMenu> 
			        
			        <h:outputText value="Discount " />  
			        <p:selectOneMenu value="#{activityManagementBean.selectedDiscount}" effect="fade" converter="discountConverter" var="p">  
			            <f:selectItem itemLabel="Select One" itemValue="" />  
			            <f:selectItems value="#{discountManagementBean.discounts}" var="discountItem" itemLabel="#{discountItem.title}" itemValue="#{discountItem}"/>
			            
			            <p:column>
							#{p.title}
						</p:column>  
			        </p:selectOneMenu> 

					
					<h:outputText value="Start Date: " />
					<h:inputText value="#{activityManagementBean.startdate}" label="startDate">
						<f:convertDateTime dateStyle="short" pattern="dd/MM/yyyy" />
					</h:inputText>

					<h:outputText value="End Date: " />
					<h:inputText value="#{activityManagementBean.enddate}" label="endDate">
						<f:convertDateTime dateStyle="short" pattern="dd/MM/yyyy" />
					</h:inputText>

					
					<h:outputText value="Description: " />
					<h:inputTextarea value="#{activityManagementBean.description}" label="Description" />
					<h:outputText value=" " />
					
					<h:panelGroup>
						<h:commandButton value="Create" action="#{activityManagementBean.createActivity}" />
					</h:panelGroup>
				</h:panelGrid>
			</p:panel>
		</h:form>
		
		<!-- ********** end ********** -->

	</ui:define>

</ui:composition>
</html>