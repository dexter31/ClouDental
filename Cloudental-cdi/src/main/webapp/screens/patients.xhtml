<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

	<p:panel header="New Patient" >
		<h:panelGrid id="grid" columns="2">
            <f:facet name="header">  
                <p:messages />  
            </f:facet>
			<h:outputText value="Name: " />
			<p:inputText id="name" value="#{office.patientManagment.createPatient.name}" required="true" requiredMessage="Name is required"  />
			<h:outputText value="Surname: " />
			<p:inputText id="surname" value="#{office.patientManagment.createPatient.surname}" required="true" requiredMessage="Surname is required"/>
			<h:outputText value="Comments: " />
			<p:inputTextarea id="comment" value="#{office.patientManagment.createPatient.comments}" />
			<h:outputText value=" " />
			<p:commandButton value="Create" id="crtBtn" process="@this,name,surname,comment" update="grid, patientList" 
						 actionListener="#{office.patientManagment.createPatient}" />
		</h:panelGrid>
	</p:panel>

 	<p:contextMenu for="patientList">  
        <p:menuitem value="Delete" icon="ui-icon-close" action="#{office.patientManagment.deletePatient}" />
    </p:contextMenu>  
    
	<p:dataTable id="patientList" var="patient" value="#{office.patientManagment.patientList}" scrollable="false"   
		rowKey="#{patient.id}"  selection="#{office.patientManagment.selectedPatient}" selectionMode="single"
		scrollHeight="400" scrollWidth="1000">
	 				
		<p:column headerText="id" sortBy="#{patient.id}" width="100">
			#{patient.id}  
		</p:column>
		<p:column headerText="Surname" sortBy="#{patient.name}" width="400">
			#{patient.name}  
		</p:column>
		<p:column headerText="Surname" sortBy="#{patient.surname}" width="800">
			#{patient.surname}  
		</p:column>
	</p:dataTable>
</html>
