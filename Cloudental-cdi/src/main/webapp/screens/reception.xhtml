<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
      
	<ui:composition template="/screens/base/cloudent-template.xhtml">
		<ui:define name="head">
			<link href="../resources/css/reception-style.css" rel="stylesheet" type="text/css" />
			<style type="text/css">
			body {
				background-image: url(../resources/images/reception_background.png);
				background-size: cover;
			}
			</style>
		
		</ui:define>
		<ui:define name="header">
			<h:form id="menuForm">
				<p:menubar>  
		            <p:menuitem value="My Office" action="office" ajax="false" />  
		            <p:menuitem value="My Account" action="office" ajax="false" />
		            <p:menuitem value="Preferences" onclick="prfDlg.show()" />
			    </p:menubar>
			   <p:dialog id="prefsDialog" header="Email Notification Preferences" widgetVar="prfDlg" height="140" >
    				<p:panelGrid columns="2">
		    		    <h:outputLabel value="Mail Content" for="mailText" styleClass="label"/>
		    		    <h:inputTextarea id="mailText" value="#{userPrefs.prefs.emailcontent}" styleClass="field"/>
		    		    <h:outputLabel value="Daily Reports" for="dailyreports" styleClass="label"/>
		    		    <p:selectBooleanCheckbox id="dailyreports" value="#{userPrefs.prefs.dailyreports}" styleClass="label" />
		    		    <h:outputLabel value="E-mail Notifications" for="emailnotify" styleClass="label"/>
		    		    <p:selectBooleanCheckbox id="emailnotify" value="#{userPrefs.prefs.emailnotification}" styleClass="label" />
   		    			<p:commandButton id="sabeBtn" styleClass="button" value="Save" actionListener="#{userPrefs.save()}" 
							 process="@this,mailText,dailyreports,emailnotify" oncomplete="prfDlg.hide();" />

			    	</p:panelGrid>
    			</p:dialog>
		    </h:form>
		</ui:define>
		<ui:define name="body">
			<p:growl id="growl" showDetail="true" life="3000" />
			<h:form id="mainform">
			</h:form>
		</ui:define>
		<ui:define name="footer">
			<p:scrollPanel styleClass="rss">
				<p:feedReader value="http://localhost:8080/Cloudental-cdi/resources/rss/news-rss.xml" var="feed" >
					<h:outputText value="#{feed.title}" style="font-weight: bold"/><br/>
					<h:outputText value="#{feed.description.value}" escape="false"/>
					<p:separator />
				</p:feedReader>
			</p:scrollPanel>
		</ui:define>
	</ui:composition>
</html>